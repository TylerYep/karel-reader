<h1>الفصل 6: دورات While</h1>
<hr/>
<p>إن تقنية تعريف الطرق الجديدة وتعريف دورات for - كما هي مفيدة - لا تمكن كاريل من حل أي مشاكل جديدة. في كل مرة تقوم فيها ببرنامج run ، فإنه دائمًا ما يفعل نفس الشيء تمامًا. تصبح البرامج أكثر فائدة عندما تتمكن من الاستجابة بشكل مختلف لمدخلات مختلفة.</p>
<p>كمثال. دعنا كاريل أنك تريد أن تكتب برنامجًا ليكون لديك كاريل move على الحائط. لكنك لا تريد ببساطة أن يعمل هذا البرنامج على عالم واحد بحجم ثابت. كنت ترغب في كتابة برنامج واحد يمكن أن تعمل على أي عالم.</p>


<%
  include('templates/'+progLang+'/'+lang+'/programs/runnableWorldChoice.html', name="moveToWall", world="7x7", canvasWidth=300, ideSpeed=0.0)
%>


<p>حاول تغيير العالم بالنقر فوق القائمة المنسدلة "تغيير العالم" أعلى العالم. لأي عالم بحجم ، كاريل سوف move حتى تصل إلى الحائط. لاحظ أن هذا العمل الفذ لا يمكن أن يكون acomplished باستخدام <code class="keyword">for</code> دورة . وهذا يتطلب منا أن نعرف حجم العالم في وقت البرمجة.</p>
<h3>الأساسية بينما حلقة</h3>
<p>في كاريل ، <code class="keyword">while</code> يتم استخدام دورة لتكرار نص التعليمات البرمجية<i>طالما</i>شرط معين يحمل. while دورة لديه الشكل العام التالي:</p>
<p class="demoCode">
 <code><span class="keyword">while</span>(</code> <i class="demoText">اختبار</i> <code>){</code> <br/>
<i class="demoText" style="margin-left:2em">البيانات لتكرارها</i><br/>
 <code>}</code> 
</p>
<p>التحكم في التدفق من while دورة هو على النحو التالي. عندما يصل البرنامج إلى while دورة ، يبدأ في تكرار عملية حيث أولًا<i>الشيكات</i>إذا نجح الاختبار ، وإذا كان الأمر كذلك<i>run ق</i>الرمز في الجسم.</p>عند البرنامج<i>الشيكات</i>إذا نجح الاختبار ، فإنه يقرر ما إذا كان<i class="demoText">اختبار</i>هذا صحيح للحالة الراهنة في العالم. إذا كان الأمر كذلك ، فإن دورة سوف run رمز في الجسم. إذا فشل الاختبار ، فإن دورة قد انتهى والبرنامج move ق على.
<p>عند البرنامج<i>run ق</i>جسم دورة ، ينفذ البرنامج الخطوط في الجسم واحدة تلو الأخرى. عندما يصل البرنامج في نهاية while دورة ، ينتقل مرة أخرى إلى الجزء العلوي من دورة . ثم يعيد فحص الاختبار ، ويستمر حتى دورة إذا دورة . لا يخرج البرنامج من دورة حتى يتم التحقق منه ، وفشل الاختبار.</p>
<p>كاريل لديه الكثير<i class="demoText">اختبار</i>البيانات ، وسنتجاوز كل منهم في الفصل التالي. في الوقت الحالي ، سنستخدم عبارة اختبار واحدة: <code>frontIsClear()</code> وهذا صحيح إذا لم يكن هناك جدار أمام كاريل مباشرة.</p>
<h3>علة فينسبوست</h3>
<p>دعونا تعديل برنامجنا أعلاه لجعله أكثر إثارة للاهتمام. بدلاً من مجرد الانتقال إلى الحائط ، ضع كاريل على خط مخروط ثانية ، واحد في كل مربع. مرة أخرى ، نريد أن يعمل هذا البرنامج من أجل عالم من أي حجم:</p>


<%
  include('templates/'+progLang+'/'+lang+'/programs/runnableWorldChoice.html', name="beeperLineBug1", world="7x7", canvasWidth=300, ideSpeed=0.0, isEditable="true")
%>


<p>هذا يبدو عظيما. باستثناء مشكلة واحدة. على كل عالم كاريل لا مكان مخروط على آخر مربع من الخط (ننظر عن كثب). عندما يكون كاريل في المربع الأخير ، لا ينفذ البرنامج جسم دورة لأن الاختبار لم يعد يمر - يواجه كاريل جدارًا. قد يكون لديك إغراء لمحاولة تبديل ترتيب الجسم بحيث كاريل move ثانية قبل وضع البيرة. الكود قابل للتحرير ، لذا حاول تجربته!</p>
<p>هناك مشكلة أعمق لا يمكن لأي إعادة ترتيب للجسم حلها. بالنسبة للعالم الذي كاريل 7 أعمدة ، يحتاج كاريل إلى وضع 7 مخروط ثانية ، ولكن يجب فقط move 6 مرات. نظرًا لأن while دورة ينفذ كلا الخطين عند اجتياز الاختبار ، فكيف يمكنك الحصول على البرنامج لتنفيذ أمر واحد مرة أخرى أكثر من الآخر؟</p>
<p>الخطأ في هذا البرنامج هو مثال على مشكلة في البرمجة تسمى a <b>خطأ فينسبوست</b> . يأتي الاسم من حقيقة أنه إذا كنت ترغب في بناء سياج مصنوع من اللوحات التي تحتوي على منشور سياج واحد على أي من الحجمين ، يكون عدد منشورات السياج دائمًا واحد أكبر من عدد الأجزاء. كم عدد وظائف السياج ، على سبيل المثال ، هل تحتاج إلى بناء سياج مع 10 لوحات؟ الجواب هو 11 ، كما يتضح من المخطط التالي:</p>
<center>
<img src="{{pathToRoot}}images/ch6/fencepost.png" style="width:500px;margin-bottom:10px"/> 
</center>
<p>بمجرد اكتشافه ، يصبح إصلاح هذا الخطأ في الواقع أمرًا سهلاً للغاية. قبل توقف كاريل في نهاية العالم ، كل ما يجب على البرنامج فعله هو وضع مخروط نهائيًا:</p>


<%
  include('templates/java/'+lang+'/programs/runnableWorldChoice.html', name="beeperLine", world="7x7", canvasWidth=300, ideSpeed=0.8, isEditable="true")
%>
