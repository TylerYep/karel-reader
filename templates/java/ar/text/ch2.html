<h1>الفصل الثاني: البرمجة كاريل</h1>
<hr/>
<p>يستخدم أبسط نمط من برنامج كاريل النص لتحديد سلسلة من الأوامر المدمجة التي ينبغي تنفيذها عندما يكون البرنامج <b>run</b> . النظر في البرنامج كاريل بسيط أدناه. النص على اليسار هو البرنامج. تظهر حالة كاريل على اليمين:</p>


<%
  include('templates/java/'+lang+'/programs/runnable.html', name="beeperPicking", world="stepUp")
%>


<p>اضغط على زر "تشغيل" لتنفيذ البرنامج. تتم كتابة البرامج عادة في تطبيق خاص يسمى <b>بيئة التطوير المتكاملة</b> (IDE) ومعظم برامج كاريل مكتوبة في IDE تسمى Eclipse . مثل IDE ، يمتلك هذا القارئ القدرة على تنفيذ البرامج من أجل مساعدتك<i>نرى</i>كيف تعمل الأشياء كما تتعلم.</p>
<p>يتكون البرنامج من عدة أجزاء. الجزء الأول يتكون من الأسطر التالية:</p>
<p>
<p class="demoCode" style="margin-left:10px">
<pre class="comment" translate="no">/*
 * ملف: أولكاريل
 * ------------
 * يعرف برنامج run طريقة " run " بثلاثة أوامر. هذه ال
 * أوامر تسبب كاريل إلى move إلى الأمام كتلة واحدة، و
 * التقاط مخروط ثم move قدما إلى الزاوية القادمة.
 */</pre>
</p>
<p>هذه الخطوط هي مثال على أ <b>تعليق</b> وهو ببساطة نص مصمم لشرح تشغيل البرنامج للقراء البشر. تبدأ التعليقات في كل من كاريل و Java بالأحرف <code class="comment">/*</code> وتنتهي مع الشخصيات <code class="comment">*/</code> . هنا ، يبدأ التعليق في السطر الأول وينتهي بعدة أسطر لاحقًا. النجوم على الأسطر الفردية التي تشكل نص التعليق ليست مطلوبة ، ولكن تسهل على القراء من البشر رؤية مدى التعليق. في برنامج بسيط ، قد تبدو التعليقات المستفيضة سخيفة لأن تأثير البرنامج واضح ، لكنها مهمة للغاية كوسيلة لتوثيق تصميم برامج أكبر وأكثر تعقيدًا. الجزء الثاني من البرنامج هو الخط:</p>
<p class="demoCode" style="margin-left:10px">
 <code><span class="keyword">import</span> stanford.كاريل.*;</code> 
</p>
<p>يطلب هذا السطر إدراج جميع التعاريف من <code>stanford.كاريل</code> مكتبة. تحتوي هذه المكتبة على التعريفات الأساسية اللازمة لكتابة برامج كاريل ، مثل تعريفات العمليات القياسية <code>move()</code> و <code>pickBeeper()</code> . نظرًا لأنك تحتاج دائمًا إلى الوصول إلى هذه العمليات ، فإن كل برنامج كاريل تكتبه سيتضمن أمر الاستيراد هذا قبل كتابة البرنامج الفعلي.</p>
<p>يتكون الجزء الأخير من البرنامج كاريل من تعريف البرنامج التالي:</p>
<p class="demoCode" style="margin-left:10px">
 <code><span class="keyword">public class</span> أولكاريل <span class="keyword">extends</span> كاريل {</code> <br/>
 <code>   <span class="keyword">public void</span> run() {</code> <br/>
 <code>      move();</code> <br/>
 <code>      pickBeeper();</code> <br/>
 <code>      move();</code> <br/>
 <code>   }</code> <br/>
 <code>}</code> <br/>
</p>
<p>لفهم هذا التعريف ، من المفيد أن ننظر بعناية أكبر في هيكله. تعريف برنامج أولكاريل يتكون من السطر الذي يبدأ بـ <code class="keyword">public class</code> ويشمل كل شيء بين قوس مجعد في نهاية هذا الخط ودعامة إغلاق المقابلة في السطر الأخير من البرنامج. الخط الوحيد الذي يقدم الصف الجديد يسمى <b>رأس</b> من التعريف ؛ الكود بين الأقواس يسمى <b>الجسم</b> .</p>
<p>في البرمجة ، يكون من المفيد للغاية التفكير في تعريف معين وجسمه كأفكار قابلة للفصل. في هذا المثال ، يحتوي تعريف أولكاريل على النموذج التالي ، حيث يمكن وضع نص التعريف بالكامل في الاعتبار في الوقت الحالي:</p>
<p class="demoCode" style="margin-left:10px">
 <code><span class="keyword">public class</span> أولكاريل <span class="keyword">extends</span> كاريل {</code> <br/>
<i class="demoText" style="margin-left:2em">نص تعريف البرنامج</i><br/>
 <code>}</code> <br/>
</p>
<p>يخبرك سطر العنوان في الجزء العلوي قليلاً عن برنامج أولكاريل ، حتى قبل أن تنظر لمعرفة ما يحتويه الجسم. الجملة <code class="keyword">public class</code> يبدأ تعريف البرنامج. الجملة <code><span class="keyword">extends</span> كاريل</code> يستخدم للإشارة إلى ذلك <code>أولكاريل</code> هو برنامج كاريل .</p>
<p>الآن دعنا ننظر إلى نص برنامج أولكاريل. يتكون هذا الجسم من الأسطر التالية:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   <span class="keyword">public void</span> run() {</code> <br/>
 <code>      move();</code> <br/>
 <code>      pickBeeper();</code> <br/>
 <code>      move();</code> <br/>
 <code>   }</code> <br/>
</p>
<p>هذه السطور تمثل تعريف جديد <b>طريقة</b> ، الذي يحدد تسلسل الخطوات اللازمة للرد على أمر. كما هو الحال في برنامج أولكاريل نفسه ، يتكون تعريف الطريقة من جزأين يمكن اعتبارهما منفصلين: السطر الأول يشكل رأس الطريقة والرمز بين الأقواس المعقوفة هو نص الطريقة. إذا تجاهلت النص الآن ، فإن تعريف الطريقة يبدو كما يلي:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   <span class="keyword">public void</span> run() {</code> <br/>
<i class="demoText" style="margin-left:3.5em">نص تعريف الطريقة</i><br/>
 <code>   }</code> <br/>
</p>
<p>أول كلمتين في رأس الأسلوب ، <code class="keyword">public</code> و <code class="keyword">void</code> ، جزء من بنية جافا النحوية ، ويجب أن تشعر بحرية تجاهلها في هذه المرحلة. تحدد الكلمة التالية في سطر الرأس اسم الطريقة الجديدة ، والتي في هذه الحالة هي الطريقة <b>run</b> . يعني تعريف الطريقة أن كاريل يمكنه الآن الاستجابة إلى أمر جديد بهذا الاسم. ال <code>run</code> يلعب الأمر دورًا خاصًا في برنامج كاريل . عند بدء تشغيل برنامج كاريل يقوم بإنشاء مثيل كاريل جديد ، ويضيف ذلك كاريل إلى عالم تحدده ، ثم يصدر الأمر run . يتم تحديد تأثير البرنامج جري بواسطة run طريقة run ، وهو عبارة عن سلسلة من الأوامر التي run الروبوت بالترتيب. على سبيل المثال ، run طريقة run لبرنامج أولكاريل هو:</p>
<p class="demoCode" style="margin-left:10px">
 <code>   move();</code> <br/>
 <code>   pickBeeper();</code> <br/>
 <code>   move();</code> <br/>
</p>
<p>وهكذا ، إذا كانت الحالة الأولية للعالم تتطابق مع المثال الوارد في الفصل 1 ، كاريل أول move ثانية للأمام في الزاوية التي تحتوي على مخروط ، تلتقط تلك مخروط ، وأخيراً move ثانية للأمام إلى الزاوية قبل الجدار مباشرةً ، كما هو موضح في الرسم البياني التالي قبل وبعد:</p>

<%
  include('templates/java/'+lang+'/programs/beforeAfter.html', name="ba2", before="stepUp", after="stepUpM1", ratio="0.7", canvasWidth="300")
%>

<h2>حل مشكلة أكثر إثارة للاهتمام</h2>
<p>برنامج أولكاريل المحدد أعلاه لا يفعل الكثير حتى الآن. دعونا نحاول جعلها أكثر إثارة للاهتمام قليلا. لنفترض أن الهدف ليس مجرد الحصول على كاريل لالتقاط مخروط ولكن إلى move مخروط من موقعها الأولي في العمود الثاني والصف الأول إلى مركز الحافة. وبالتالي ، فإن مهمتك التالية هي تحديد برنامج كاريل جديد يحقق المهمة الموضحة في هذا المخطط:</p>

<%
  include('templates/java/'+lang+'/programs/beforeAfter.html', name="ba3", before="stepUp", after="stepUpGoal", ratio="0.7", canvasWidth="300")
%>

<p>الأوامر الثلاثة الأولى في البرنامج الجديد - move للأمام ، والتقاط مخروط ، ثم move حتى الحافة - هي نفسها كما كانت من قبل:</p>
</p>
<p class="demoCode" style="margin-left:10px">
 <code>   move();</code> <br/>
 <code>   pickBeeper();</code> <br/>
 <code>   move();</code> <br/>
</p>
<p>من هنا ، فإن الخطوة التالية هي الاتجاه نحو اليسار لبدء تسلق الحافة. هذه العملية سهلة ، لأن كاريل لديه أمر انعطفلليسار في ذخيرته القياسية. يؤدي تنفيذ أمر انعطفلليسار في نهاية التسلسل السابق للأوامر إلى ترك كاريل الشمال عند زاوية الصف الأول والعمود الثالث. إذا قام كاريل بتنفيذ أمر move ، move إلى الشمال move للوصول إلى الموضع التالي:</p>

<%
  include('templates/java/'+lang+'/programs/world.html', name="ba3", world="stepUpM2")
%>

<p>من هنا ، الشيء التالي الذي عليك القيام به هو كاريل إلى الاستدارة يمينًا بحيث يواجه الشرق مرة أخرى. في حين أن هذه العملية سهلة من الناحية النظرية تمامًا مثل تحويل كاريل إلى اليسار ، إلا أن هناك مشكلة بسيطة: كاريل لغة كاريل على <code>turnLeft</code> القيادة ، ولكن لا <code>turnRight</code> أمر. يبدو الأمر كما لو كنت قد اشتريت نموذج الاقتصاد واكتشفت الآن أنه يفتقد إلى بعض الميزات المهمة.</p>
<p>في هذه المرحلة ، لديك أول فرصة لبدء التفكير كمبرمج. لديك مجموعة واحدة من الأوامر ، ولكن ليس بالضبط المجموعة التي تحتاج إليها. ما الذي تستطيع القيام به؟ هل يمكنك إنجاز تأثير أمر انعطفيمينا باستخدام القدرات التي لديك فقط؟ الجواب ، بالطبع ، هو نعم. يمكنك تحقيق تأثير الانعطاف يمينًا عن طريق الدوران الأيسر ثلاث مرات. بعد ثلاث لفات كاريل ، سوف يواجه كاريل في الاتجاه المطلوب. من هنا ، كل ما عليك فعله هو البرنامج من كاريل إلى move إلى مركز الحافة ، واسقاط مخروط ثم move إلى الأمام إلى الموضع النهائي. هنا هو التنفيذ الكامل ل <code>خطوةللأعلى</code> البرنامج الذي ينجز المهمة بأكملها:</p>


<%
  include('templates/java/'+lang+'/programs/runnable.html', name="stepUp", world="stepUp", ideSpeed=0.5)
%>
