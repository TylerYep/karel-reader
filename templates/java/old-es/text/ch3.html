<h1> Capítulo 3: Definiendo nuevos métodos </h1><hr/><p> En el último capítulo, escribimos un programa para ayudar a Karel a subir una cornisa simple: </p><h3> Por ejemplo: Aumentar </h3>

<%
  include('templates/'+lang+'/programs/runnable.html', name="beeperPickingRedux", world="stepUp", ideSpeed=0.8)
%>

<p> Aunque el programa <code>Aumentar</code> arriba demuestra que es posible realizar la operación de <code>girarALaDerecha</code> utilizando solo los comandos incorporados de Karel, el programa resultante no está particularmente claro conceptualmente. En su diseño mental del programa, Karel gira a la derecha cuando llega a la cima de la cornisa. El hecho de que tenga que usar tres comandos girarALaIzquierda para hacerlo es molesto. Sería mucho más sencillo si simplemente dijera <code>girarALaDerecha()</code> y <code>girarALaDerecha()</code> que Karel entienda este comando. El programa resultante no solo sería más corto y más fácil de escribir, sino también mucho más fácil de leer. </p><h3> Definiendo nuevos comandos </h3><p> Afortunadamente, el lenguaje de programación Karel hace posible definir nuevos comandos simplemente al incluir nuevas definiciones de métodos. Siempre que tenga una secuencia de comandos de Karel que realice alguna tarea útil, como girar a la derecha, puede definir un nuevo método que ejecute esa secuencia de comandos. El formato para definir un nuevo método de Karel es muy similar a la definición de <code>run</code> en los ejemplos anteriores, que es una definición de método por derecho propio. Una definición de método típica se ve así: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span></code><i class="demoText">nombre</i><code><span class="keyword">&nbsp;&nbsp;&nbsp;private void</span></code><code>() {</code><br/><i class="demoText" style="margin-left:3.5em">Comandos que conforman el cuerpo del método.</i><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> En este patrón, el nombre representa el nombre que ha elegido para el nuevo método. Para completar la definición, todo lo que tiene que hacer es proporcionar la secuencia de comandos en las líneas entre las llaves. Por ejemplo, puede definir <code>girarALaDerecha</code> siguiente manera: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> girarALaDerecha() {</code><br/><code style="margin-left:3.5em">girarALaIzquierda();</code><br/><code style="margin-left:3.5em">girarALaIzquierda();</code><br/><code style="margin-left:3.5em">girarALaIzquierda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> De igual forma, podrías definir un nuevo método de <code>giroDeVuelta</code> como este: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> giroDeVuelta() {</code><br/><code style="margin-left:3.5em">girarALaIzquierda();</code><br/><code style="margin-left:3.5em">girarALaIzquierda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Puede usar el nombre de un nuevo método como cualquiera de los comandos integrados de Karel. Por ejemplo, una vez que haya definido <code>girarALaDerecha</code>, puede reemplazar los tres comandos girarALaIzquierda en el programa <code>IntensificarKarel</code> con una sola llamada al método <code>girarALaDerecha</code>. Aquí hay una implementación revisada del programa que usa <code>girarALaDerecha</code>: </p>

<%
  include('templates/'+lang+'/programs/runnable.html', name="stepUp2", world="stepUp")
%>

<p> Hay, por supuesto, una diferencia obvia entre las definiciones de los métodos <code>run</code> y <code>girarALaDerecha</code> en el programa anterior: el método <code>run</code> está marcado como <code>public</code> en contraste con <code>girarALaDerecha</code>, que está marcado como <code>private</code>. La diferencia entre estas dos designaciones es que los métodos públicos pueden invocarse desde fuera del programa, mientras que los métodos privados no pueden. El método de ejecución debe ser público porque el entorno de Karel debe poder emitir un comando de ejecución para que todo funcione. En general, es una buena práctica de programación mantener las definiciones privadas siempre que sea posible. </p><h3> Bloques de código de método </h3><p> Un grupo de comandos entre dos llaves <code translate="no">{ }</code> se llama <b>bloque de código</b>. El cuerpo de su programa es un bloque de código, al igual que el cuerpo de un método. Observe que el contenido de un bloque de código está sangrado en una sola pestaña. Esto es importante desde el punto de vista estilístico, ya que facilita a los humanos saber qué líneas de código hay en un bloque determinado. </p><p> Puedes definir tantos métodos como quieras. Todos deben escribirse uno tras otro dentro del bloque de código de su programa. No puedes definir un método dentro de otro método. </p>