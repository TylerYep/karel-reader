<h1> Capítulo 4: Descomposición </h1><hr/><p> Como una forma de ilustrar más el poder que viene con poder definir nuevos métodos, es útil que Karel haga algo un poco más práctico que mover un beeper de un lugar a otro. Los caminos alrededor de Palo Alto a menudo parecen necesitar reparación, y podría ser divertido ver si Karel puede llenar los baches en su mundo abstracto. Por ejemplo, imagine que Karel está parado en el &quot;camino&quot; que se muestra en la figura de la izquierda, una esquina a la izquierda de un bache en el camino. El trabajo de Karel es llenar el agujero con un beeper y pasar a la siguiente esquina. El diagrama a la derecha ilustra cómo el mundo debe cuidar la ejecución del programa. </p>

<%
  include('templates/'+lang+'/programs/beforeAfter.html', name="ba", before="pothole", after="potholeGoal", ratio="0.82", canvasWidth="300")
%>

<p> Si está limitado a los cuatro comandos predefinidos, el método de ejecución para resolver este problema se vería así: </p><p style="margin-left:2em"><code><span class="keyword">private void</span> run() {</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">ponerBeeper();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">girarALaIzquierda();</code><br/><code style="margin-left:2em">moverse();</code><br/><code>}</code></p><p> La motivación inicial para definir el método girarALaDerecha fue que era incómodo seguir repitiendo tres comandos girarALaIzquierda para lograr un giro a la derecha. Definir nuevos métodos tiene otro propósito importante más allá de permitirle evitar repetir las mismas secuencias de comandos cada vez que desee realizar una tarea en particular. El poder de definir métodos desbloquea la estrategia más importante en la programación: el proceso de dividir un problema grande en partes más pequeñas que son más fáciles de resolver. El proceso de descomponer un programa en partes más pequeñas se denomina descomposición, y las partes componentes de un gran problema se denominan subproblemas. </p><p> Como ejemplo, el problema de rellenar el agujero en la carretera se puede descomponer en los siguientes subproblemas: </p><ol><li> Subir al hoyo <li> Rellena el agujero colocando una señal acústica en él. <li> Pasa a la siguiente esquina </li></li></li></ol><p> Si piensa en el problema de esta manera, puede usar definiciones de métodos para crear un programa que refleje su concepción de la estructura del programa. El método de ejecución se vería así: </p><p style="margin-left:2em"><code><span class="keyword">private void</span> run() {</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">rellenarBache();</code><br/><code style="margin-left:2em">moverse();</code><br/><code>}</code></p><p> La correspondencia con el esquema es inmediatamente clara, y todo sería genial si solo pudieras lograr que Karel entienda lo que quieres decir con rellenarBache. Dado el poder de definir métodos, la implementación de rellenarBache es extremadamente simple. Todo lo que tienes que hacer es definir un método rellenarBache cuyo cuerpo consiste en los comandos que ya has escrito para hacer el trabajo, como este: </p><p style="margin-left:2em"><code><span class="keyword">private void</span> rellenarBache() {</code><br/><code style="margin-left:2em">girarALaDerecha();</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">ponerBeeper();</code><br/><code style="margin-left:2em">giroDeVuelta();</code><br/><code style="margin-left:2em">moverse();</code><br/><code style="margin-left:2em">girarALaDerecha();</code><br/><code>}</code></p><p> Aquí está el programa completo. Observe cómo puede entender la intención de los programadores simplemente leyendo el método de ejecución. Cuando ejecuta el programa, el resaltado de línea muestra cómo una computadora lo ejecutará, paso a paso. Sin embargo, debido a que el programa está bien dividido, podemos entenderlo en un nivel de pensamiento humano: </p>

<%
  include('templates/'+lang+'/programs/runnable.html', name="pothole", world="pothole", canvasWidth=200)
%>
