<h1 style=";text-align:right;direction:rtl"> פרק ג: הגדרת שיטות חדשות </h1><hr/><p style=";text-align:right;direction:rtl"> בפרק האחרון כתבנו תוכנית שתסייע לקארל לטפס על מדף פשוט: </p><h3 style=";text-align:right;direction:rtl"> דוגמה: צעדלמעלה </h3>

<%
  include('templates/'+lang+'/programs/runnable.html', name="beeperPickingRedux", world="stepUp", ideSpeed=0.8)
%>

<p style=";text-align:right;direction:rtl"> אף על פי שהתוכנית <code>צעדלמעלה</code> מעלה כי ניתן לבצע את פעולת <code>פנהימינה</code> באמצעות הפקודות המובנות של קארל בלבד, התוכנית המתקבלת אינה ברורה במיוחד מבחינה מושגית. בתכנון הנפשי שלך של התוכנית, קארל פונה ימינה כשזה מגיע לראש המדף. העובדה שאתה צריך להשתמש שלוש פונהשמאלה פקודות לעשות זאת היא מעצבנת. זה יהיה הרבה יותר פשוט אם אתה יכול פשוט לומר <code>פנהימינה()</code> ויש לי קארל להבין את הפקודה הזאת. התוכנית שהתקבלה לא תהיה קצרה יותר וקלה יותר לקריאה, אלא גם קלה יותר לקריאה. </p><h3 style=";text-align:right;direction:rtl"> הגדרת פקודות חדשות </h3><p style=";text-align:right;direction:rtl"> למרבה המזל, שפת התכנות קארל מאפשרת להגדיר פקודות חדשות פשוט על ידי הכללת הגדרות שיטה חדשות. בכל פעם שיש לך רצף של פקודות Karel שמבצעת משימה שימושית כלשהי - כגון פנייה ימינה - באפשרותך להגדיר שיטה חדשה המפעילה את רצף הפקודות. הפורמט להגדרת שיטת קארל חדשה דומה מאוד להגדרת <code>run</code> בדוגמאות הקודמות, שהיא הגדרת שיטה בפני עצמה. הגדרת שיטה טיפוסית נראית כך: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span></code><i class="demoText">שם</i><code><span class="keyword">&nbsp;&nbsp;&nbsp;private void</span></code><code>() {</code><br/><i class="demoText" style="margin-left:3.5em">פקודות המרכיבות את הגוף של השיטה</i><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> בתבנית זו, השם מייצג את השם שבחרת עבור השיטה החדשה. כדי להשלים את ההגדרה, כל מה שאתה צריך לעשות הוא לספק את רצף של פקודות בקווים בין הפלטה מסולסלים. לדוגמה, ניתן להגדיר את <code>פנהימינה</code> כך: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> פנהימינה() {</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> באופן דומה, אתה יכול להגדיר שיטה חדשה <code>תסתובב</code> ככה: </p><p class="demoCode" style="margin-left:10px;text-align:right;direction:rtl"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> תסתובב() {</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code style="margin-left:3.5em">פונהשמאלה();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p style=";text-align:right;direction:rtl"> אתה יכול להשתמש בשם של שיטה חדשה בדיוק כמו כל פקודות מובנית של קארל. לדוגמה, לאחר שהגדרת את <code>פנהימינה</code>, ניתן להחליף את שלוש פקודות הפונשמאלה בתכנית <code>קארל</code> בשיחה אחת לשיטת <code>פנהימינה</code>. הנה יישום מעודכן של התוכנית המשתמשת <code>פנהימינה</code>: </p>

<%
  include('templates/'+lang+'/programs/runnable.html', name="stepUp2", world="stepUp")
%>

<p style=";text-align:right;direction:rtl"> יש, כמובן, הבדל ברור אחד בין ההגדרות של <code>run</code> ו <code>פנהימינה</code> השיטות בתכנית לעיל: <code>run</code> שיטת מסומן <code>public</code> בניגוד <code>פנהימינה</code>, אשר מסומן <code>private</code>. ההבדל בין שתי הכינויים הללו הוא שניתן להשתמש בשיטות ציבוריות מחוץ לתוכנית, בעוד ששיטות פרטיות אינן יכולות. שיטת הריצה צריכה להיות ציבורית משום שסביבת Karel צריכה להיות מסוגלת להנפיק פקודה להפעיל דברים. זה בדרך כלל טוב תכנות בפועל לשמור הגדרות פרטיות בכל הזדמנות אפשרית. </p><h3 style=";text-align:right;direction:rtl"> בלוקים קוד שיטה </h3><p style=";text-align:right;direction:rtl"> קבוצה של פקודות בין שני סוגריים מסולסלים <code translate="no">{ }</code> נקראת <b>בלוק קוד</b>. הגוף של התוכנית שלך הוא בלוק קוד כמו הגוף של שיטה. שימו לב איך התוכן של בלוק קוד הם כל הכניסו את הלשונית אחת פנימה זה חשוב סגנונית שכן זה מקל על בני האדם לדעת מה שורות קוד נמצאים בבלוק נתון. </p><p style=";text-align:right;direction:rtl"> ניתן להגדיר שיטות רבות ככל שתרצה. הם צריכים להיות כל אחד כתוב בזה אחר זה בתוך הבלוק שלך קוד התוכנית. לא ניתן להגדיר שיטה בשיטה אחרת. </p>