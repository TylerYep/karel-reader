<h1> Capítulo 3: Definindo Novos Métodos </h1><hr/><p> No último capítulo, escrevemos um programa para ajudar Karel a subir por uma saliência simples: </p><h3> Exemplo: PassoAcima </h3>

<%
  include('templates/'+lang+'/programs/runnable.html', name="beeperPickingRedux", world="stepUp", ideSpeed=0.8)
%>

<p> Embora o programa <code>PassoAcima</code> acima demonstre que é possível realizar a operação <code>vireÀDireita</code> usando apenas os comandos <code>vireÀDireita</code> Karel, o programa resultante não é particularmente claro conceitualmente. Em seu projeto mental do programa, Karel vira à direita quando atinge o topo da borda. O fato de você ter que usar três comandos vireAEsquerda para fazer isso é chato. Seria muito mais simples se você pudesse simplesmente dizer <code>vireÀDireita()</code> e ter Karel entender esse comando. O programa resultante não seria apenas mais curto e mais fácil de escrever, mas também significativamente mais fácil de ler. </p><h3> Definindo Novos Comandos </h3><p> Felizmente, a linguagem de programação Karel permite definir novos comandos simplesmente incluindo novas definições de métodos. Sempre que você tiver uma sequência de comandos Karel que realize alguma tarefa útil - como, por exemplo, virar à direita - você pode definir um novo método que execute essa sequência de comandos. O formato para definir um novo método Karel tem praticamente o mesmo que a definição de <code>run</code> nos exemplos anteriores, que é uma definição de método independente. Uma definição típica de método é assim: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span></code><i class="demoText">name</i><code>() {</code><br/><i class="demoText" style="margin-left:3.5em">comandos que compõem o corpo do método</i><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Nesse padrão, name representa o nome que você escolheu para o novo método. Para completar a definição, tudo o que você precisa fazer é fornecer a sequência de comandos nas linhas entre as chaves. Por exemplo, você pode definir o <code>vireÀDireita</code> seguinte maneira: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> vireÀDireita() {</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Da mesma forma, você poderia definir um novo método <code>inversãoDeMarcha</code> assim: </p><p class="demoCode" style="margin-left:10px"><code>&nbsp;&nbsp;&nbsp;<span class="keyword">private void</span> inversãoDeMarcha() {</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code style="margin-left:3.5em">vireAEsquerda();</code><br/><code>&nbsp;&nbsp;&nbsp;}</code><br/></p><p> Você pode usar o nome de um novo método como qualquer um dos comandos internos de Karel. Por exemplo, depois de ter definido <code>vireÀDireita</code>, você poderia substituir os três comandos vireAEsquerda no programa <code>IntensifiqueKarel</code> por uma única chamada ao método <code>vireÀDireita</code>. Aqui está uma implementação revisada do programa que usa o <code>vireÀDireita</code>: </p>

<%
  include('templates/'+lang+'/programs/runnable.html', name="stepUp2", world="stepUp")
%>

<p> Existe, obviamente, uma diferença óbvia entre as definições dos métodos <code>run</code> e <code>vireÀDireita</code> no programa acima: o método <code>run</code> é marcado como <code>public</code> em contraste com <code>vireÀDireita</code>, que é marcado como <code>private</code>. A diferença entre essas duas designações é que métodos públicos podem ser chamados de fora do programa, enquanto métodos privados não podem. O método de execução precisa ser público porque o ambiente do Karel precisa ser capaz de emitir um comando de execução para executar as coisas. Em geral, é uma boa prática de programação manter as definições privadas sempre que possível. </p><h3> Blocos de Código de Método </h3><p> Um grupo de comandos entre duas chaves <code translate="no">{ }</code> é chamado de <b>bloco de código</b>. O corpo do seu programa é um bloco de código, assim como o corpo de um método. Observe como o conteúdo de um bloco de código é todo uma aba recuada. Isso é importante estilisticamente, pois torna fácil para os humanos saberem quais linhas de código estão em um determinado bloco. </p><p> Você pode definir quantos métodos quiser. Todos devem ser escritos um após o outro dentro do bloco de código do seu programa. Você não pode definir um método dentro de outro método. </p>